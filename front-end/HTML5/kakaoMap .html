<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카카오맵</title>
    <!-- 카카오맵 API -->
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=c97125317843d810b9f4ff343fd135c5"></script>
<body>
    <script>
        function MyPosition(){
            if(navigator.geolocation){
                navigator.geolocation.getCurrentPosition(CurPosition, ErrorCallback);
            }
        }

        function CurPosition(position){
            var lat = position.coords.latitude; //위도
            var lng = position.coords.longitude; //경도
            document.getElementById("result").innerHTML = "위도 : " + lat + " 경도 : " + lng;

            const container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
            let options = { //지도를 생성할 때 필요한 기본 옵션
                center: new kakao.maps.LatLng(lat, lng), //지도의 중심좌표.
                level: 3 //지도의 레벨(확대, 축소 정도)
            };
            let map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴
        }

        function ErrorCallback(err){
            switch(err.code){
                case err.PERMISSION_DENIED:
                    document.getElementById("result").innerHTML = "현재 위치 정보에 대한 권한이 없습니다.";
                    break;
                case err.POSITION_UNAVAILABLE:
                    document.getElementById("result").innerHTML = "현재 위치 정보를 구할 수 없습니다.";
                    break;
                case err.TIMEOUT:
                    document.getElementById("result").innerHTML = "시간 제한을 초과했습니다.";
                    break;
            }
        }

    </script>

    <button onclick="MyPosition()">나의 현재 위치</button><p></p>
    <div id="result"></div>
    <div id="map" style="width: 500px; height: 500px;"></div>


</body>

</html>