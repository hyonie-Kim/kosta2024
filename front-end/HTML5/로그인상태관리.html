<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인 상태 관리</title>
</head>

<body>
    <h1>세션 스토리지 기반 로그인</h1>
    <div id="loginForm">
        <label for=""> 사용자 ID :</label>
        <input type="text" id="userid">
        <p></p>
        <label for=""> 사용자 PW:</label>
        <input type="password" id="userpw">
        <button id="loginbtton">로그인</button>
        <button id="logout">로그아웃</button>
    </div>

    <div id="welcomeMessage" style="display: none;">
        <p>환영합니다. <span id="loggedInUser"></span>님</p>
    </div>
    <script>
        const loginForm = document.getElementById("loginForm");
        const useridInput = document.getElementById("userid");
        const passwordInput = document.getElementById("userpw");
        const loginbutton = document.getElementById("loginbtton");
        const logout = document.getElementById("logout");
        const userId = document.querySelector("#loggedInUser")
        const welcomeMessage = document.getElementById("welcomeMessage")


        loginbutton.addEventListener('click', function () {
            // useridInput.value;
            // passwordInput.value;

            if (useridInput.value == 'user' && passwordInput.value == '1234') {
                // 로그인 
                // sessionStorage.setItem(key,value) 

                sessionStorage.setItem('loggedInUser', useridInput.value);
                welcomeMessage.style.display = 'block';
                loggedInUser.textContent = useridInput.value;

            } else {
                alert('아이디 또는 비밀번호가 틀렸습니다.')
            }
        })

        logout.addEventListener('click', function () {
            useridInput.value = null;
            passwordInput.value = null;
            welcomeMessage.style.display = 'none';

            alert("로그아웃 하셨습니다.");
            sessionStorage.clear();
        })
    </script>
</body>

</html>