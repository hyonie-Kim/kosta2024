<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나의 이동 위치</title>
</head>

<body>
    <script>
        var watcherId;
        function StartPos() {
            if (navigator.geolocation) { // null포인터 인지 물어봄. 그러면 수행하면 X
                var options = {
                    enableHighAccuracy: true,
                    timeout: 1000,
                    maximumAge: 6000,
                }
                watcherId = navigator.geolocation.watchPosition(CurPosition, ErrorCallback, options)
            }
        }

        function CurPosition(position) {
            // 성공했을때 호출하는 함수
            var lat = position.coords.latitude; //위도
            var lng = position.coords.longitude; // 경도

            document.getElementById("result").innerHTML = "위도 : " + lat + " 경도 :" + lng;
        }

        function ErrorCallback(err) {
            switch (err.code) {
                case err.PERMISSION_DENIED:
                    document.getElementById("result").innerHTML = "현재 위치 정보에 대한 권한이 없습니다.";
                    break;
                case err.POSITION_UNAVAILABLE:
                    document.getElementById("result").innerHTML = "현재 위치 정보를 구할 수 없습니다.";
                    break;
                case err.TIMEOUT:
                    document.getElementById("result").innerHTML = "시간 제한을 초과했습니다.";
                    break;
            }
        }

    </script>
    <button onclick="StartPos()">위치 추적 시작</button>
    <p></p>
    <div id="result"></div>


</body>

</html>